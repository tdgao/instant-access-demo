<!DOCTYPE html>
<html>
  <head>
    <title>Hello, World!</title>
  </head>
  <body>
    <h1 class="title">Hello World!</h1>
    <div id="shadow"></div>
    <!-- <div id="test123"></div> -->
    <!-- <squatch-embed widget="p/points/w/friendWidget"
      ><div>Loading...</div></squatch-embed
    > -->
  </body>

  <script>
    // const newEl = document.createElement("new-element");
    const shadow = document.createElement("shadow-element");
    const shadowOpen = shadow.attachShadow({ mode: "open" });

    // newEl.appendChild(shadow);
    document.querySelector("#shadow").appendChild(shadow);

    // document.body.appendChild(newEl);
  </script>
  <script>
    !(function (a, b) {
      a("squatch", "https://fast.ssqt.io/squatch-js@2.6.0-6", b);
    })(function (a, b, c) {
      var d, e, f;
      (c["_" + a] = {}),
        (c[a] = {}),
        (c[a].ready = function (b) {
          c["_" + a].ready = c["_" + a].ready || [];
          c["_" + a].ready.push(b);
        }),
        (e = document.createElement("script")),
        (e.async = 1),
        (e.src = b),
        (f = document.getElementsByTagName("script")[0]),
        f.parentNode.insertBefore(e, f);
    }, this);
  </script>
  <script>
    console.log(window.squatch);
    // CONFIG FOR ZACH'S TEST TENANT
    squatch.ready(function () {
      squatch.init({
        tenantAlias: "test_ahsf8e6g2r1dh",
        domain: "https://staging.referralsaasquatch.com",
      });

      //object containing the init parameters for squatch.js
      var initObj = {
        container: "shadow-element",
        user: {
          id: "zach",
          accountId: "zach",
        },
        jwt: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiemFjaCIsImFjY291bnRJZCI6InphY2gifX0.wvidaxUEpR3GWLogRxks1H9v7pwlIZ5a3ORuKYpmgE0",
        engagementMedium: "EMBED",
        widgetType: "p/service-up/w/referrerWidget",
      };

      squatch
        .widgets()
        .upsertUser(initObj)
        .then(function (response) {
          user = response.user;
        })
        .catch(function (error) {
          console.log(error);
        });
    });
  </script>
</html>
